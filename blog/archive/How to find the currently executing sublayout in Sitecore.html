


<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<!-- Mirrored from www.glass.lu/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 10 Jan 2019 10:13:45 GMT -->
<!-- Added by HTTrack -->

<!-- Mirrored from glass.lu/blog/archive/How to find the currently executing sublayout in Sitecore by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 24 May 2021 11:26:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



    <link rel="stylesheet" href="../../content/plugins/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../content/css/style.css">
    <link rel="stylesheet" href="../../content/plugins/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../content/css/theme-colors/default.css">
    <link rel="stylesheet" href="../../content/plugins/sky-forms/version-2.0.1/css/custom-sky-forms.css">

    <link rel="stylesheet" href="../../content/plugins/parallax-slider/css/parallax-slider.css">

    <link rel="stylesheet" href="../../content/Site-Lessae52ae52.css?v=5" />
    <link rel="stylesheet" href="../../content/site.css">

    <title>How to find the currently executing sublayout in Sitecore - Glass</title>

    <link rel="shortcut icon" href="../../-/media/Images/Common/Horizon-Bordered-BlazeOrange-250.png">
    <!-- JS Global Compulsory -->
    <script type="text/javascript" src="../../content/plugins/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="../../content/plugins/jquery/jquery-migrate.min.js"></script>
    <script type="text/javascript" src="../../content/plugins/bootstrap/js/bootstrap.min.js"></script>

    <script src="../../content/Site.js"></script>
    <script src="../google-code-prettify.googlecode.com/svn/loader/run_prettify.html"></script>
    <script type="text/javascript" src="../../content/plugins/parallax-slider/js/modernizr.js"></script>
    <script type="text/javascript" src="../../content/plugins/parallax-slider/js/jquery.cslider.js"></script>


</head>


<body class="metro  mvc ">

    <div class="wrapper">

        <div class="header header-sticky header-fixed-shrink">
            <div class="topbar">
            </div>

            <!-- Navbar -->
            <div class="navbar navbar-default mega-menu" role="navigation">
                <div class="container">
                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="fa fa-bars"></span>
                        </button>
                        <a class="navbar-brand" href="../../index.html">

                            <img src="../../-/media/Images/Common/Horizon-Bordered-BlazeOrange-2503ca73ca7.png?h=50&amp;w=50&amp;la=en&amp;hash=C5F3C6D5FCB00EBE826D80BE26742A4D078D12D4" id="logo-header" alt="" />
                            <span style="vertical-align: middle;">Glass</span>

                        </a>
                    </div>

                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse navbar-responsive-collapse">
                        <ul class="nav navbar-nav">

                            <li class="">

                                <a href="../../Support.html">Support</a>
                            </li>
                            <li class="">

                                <a href="../../Training.html">Training</a>
                            </li>
                            <li class="">

                                <a href="../../Blog.html">Blog</a>
                            </li>
                            <li class="">

                                <a href="../../Mapper.html">Glass.Mapper.Sc</a>
                            </li>
                            <li class="">

                                <a href="../../Rockstars.html">Our Backers</a>
                            </li>
                            <li class="">

                                <a href="../../About.html">About</a>
                            </li>
                        </ul>
                    </div><!--/navbar-collapse-->
                </div>
            </div>
            <!-- End Navbar -->
        </div>

            <div class="breadcrumbs">
                <div class="container">
                    <h1 class="pull-left">

                        How to find the currently executing sublayout in Sitecore

                    </h1>

                </div><!--/container-->
            </div>

        


<div class="container content">
    <div class="row">
        
 

        
<div>
    
</div>
<div class="row">
    <div class="col-md-12">

        <div class="blog margin-bottom-40">
            <div class="blog-post-tags">
                <ul class="list-unstyled list-inline blog-info pull-right">
                    <li>
                        <h3>
                            <i class="fa fa-calendar"></i>
                            25 Aug 2010
                        </h3>
                    </li>

                        <li>
                            <h3>
                                <a href="../../About/Mike.html">
                                    <i class="fa fa-pencil"></i>
                                    Mike
                                </a>
                            </h3>
                        </li>
                </ul>
            </div>
        </div>
    </div>
</div>

            
    




<p class='lead'>This post has been migrated from <strong>www.experimentsincode.com</strong>, we apologise if some of the images or content is missing</p><div>

<strong>This post has been migrated, original date 18 Oct 2008</strong>

After my post <a href="http://blog.experimentsincode.com/2010/08/25/sitecore-sublayout-parameters/">Sitecore Sublayout Parameters</a> I had a question about how to get the ID of the current sublayout without having to hard code the ID. So here is the code:

<!--  {\rtf1\ansi\ansicpg\lang1024\noproof65001\uc1 \deff0{\fonttbl{\f0\fnil\fcharset0\fprq1 Consolas;}}{\colortbl;??\red0\green0\blue255;\red255\green255\blue255;\red0\green0\blue0;\red43\green145\blue175;\red163\green21\blue21;\red0\green128\blue0;}??\fs20 \cf1 public\cf0  \cf1 partial\cf0  \cf1 class\cf0  \cf4 layouts_MySubLayout\cf0  : System.Web.UI.\cf4 UserControl\par ??\cf0 \{\par ??    \cf1 private\cf0  \cf1 readonly\cf0  \cf1 string\cf0  _layoutSearch = \cf5 "/sitecore/layout//*/\{0\}"\cf0 ;\par ??    \cf1 protected\cf0  \cf1 void\cf0  Page_Load(\cf1 object\cf0  sender, \cf4 EventArgs\cf0  e)\par ??    \{\par ??        \cf1 string\cf0  className = \cf1 this\cf0 .GetType().Name;\par ??        \par ??        \cf6 //for this is example I am using a Web Site project. \par ??\cf0         \cf6 //This means that when I create any User Control it prefixes with 'layouts_' (directory name) \par ??\cf0         \cf6 //and suffixes '_ascx' (file extension) to the compiled class name. These have to be removed\par ??\cf0         className = className.Replace(\cf5 "_ascx"\cf0 ,\cf5 ""\cf0 );\par ??        className = className.Replace(\cf5 "layouts_"\cf0 , \cf5 ""\cf0 );\par ??\par ??        Response.Write(\cf1 string\cf0 .Format(_layoutSearch, className));\par ??\par ??        Sitecore.Data.Items.\cf4 Item\cf0  template = Sitecore.\cf4 Context\cf0 .Database.SelectSingleItem(\par ??            \cf1 string\cf0 .Format(_layoutSearch, className)\par ??        );\par ??\par ??        \cf1 if\cf0  (template != \cf1 null\cf0 )\par ??        \{\par ??            Response.Write(template.ID);\par ??        \}\par ??        \cf1 else\par ??\cf0             Response.Write(\cf5 "Not Found"\cf0 );\par ??\par ??    \}\par ??\}\par ??}  -->
<div>

15Ã‚Â public partial class layouts_MySubLayout : System.Web.UI.UserControl

16Ã‚Â {

17Ã‚Â Ã‚Â  Ã‚Â  private readonly string _layoutSearch = "/sitecore/layout/sublayouts//*/{0}";

18Ã‚Â Ã‚Â  Ã‚Â  protected void Page_Load(object sender, EventArgs e)

19Ã‚Â Ã‚Â  Ã‚Â  {

20Ã‚Â Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  string className = this.GetType().Name;

21

22Ã‚Â Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  //for this is example I am using a Web Site project.

23Ã‚Â Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  //This means that when I create any User Control it prefixes with 'layouts_' (directory name)

24Ã‚Â Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  //and suffixes '_ascx' (file extension) to the compiled class name. These have to be removed

25Ã‚Â Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  className = className.Replace("_ascx","");

26Ã‚Â Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  className = className.Replace("layouts_", "");

27

28Ã‚Â Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  Response.Write(string.Format(_layoutSearch, className));

29

30Ã‚Â Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  Sitecore.Data.Items.Item template = Sitecore.Context.Database.SelectSingleItem(

31Ã‚Â Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  string.Format(_layoutSearch, className)

32Ã‚Â Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  );

33

34Ã‚Â Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  if (template != null)

35Ã‚Â Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  {

36Ã‚Â Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  Response.Write(template.ID);

37Ã‚Â Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  }

38Ã‚Â Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  else

39Ã‚Â Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  Ã‚Â  Response.Write("Not Found");

40

41Ã‚Â Ã‚Â  Ã‚Â  }

42Ã‚Â }

</div>
Couple of things to note:
<ul>
	<li> When using a Web Site project you will notice that it prefixes and  suffixes extra text to the end of your class name at compile time, this  has to be removed.</li>
	<li>I have also assumed that you have kept the name of the class the same as the name of the template.</li>
	<li>If you are not using a Web Site project but instead using a Web  Applicatiton project you maybe able to remove line 25 and 26; just be  sure to remove any namespaces so that you are only left with the class  name.</li>
	<li>The code must be run in a member of the sublayout you are trying to retrieve the ID for otherwise you will get an class name</li>
</ul>
</div>

    

    </div>
</div>

        <div class="footer-v1">
            <div class="footer">
                <div class="container">
                    <div class="row">
                        <!-- About -->
                        <div class="col-md-3 md-margin-bottom-40">
                            <div class="row text-center margin-bottom-10 margin-top-20">
                                <a href="../../index.html" class="">
                                    <img src="../../-/media/Images/Common/Horizon-Bordered-BlazeOrange-2503ca73ca7.png?h=50&amp;w=50&amp;la=en&amp;hash=C5F3C6D5FCB00EBE826D80BE26742A4D078D12D4" id="logo-header" alt="" />
                                </a>
                            </div>

                            <p>Glass is home to the #1 ORM for Sitecore. Glass.Mapper is the easiest way to map data from your Sitecore solution to your code.</p>
                        </div><!--/col-md-3-->
                        <!-- End About -->
                        <!-- Latest -->
                        <div class="col-md-3 md-margin-bottom-40">
                            <div class="headline">
                                <h2>Sponsored by</h2>
                            </div>
                            <a href="https://refractdns.com/">
                                <img src="../../-/media/Images/Tiles/RDNS_Logo_WithTextWhite.png" style="width: 100%" class="img-responsive">
                            </a>
                        </div><!--/col-md-3-->
                        <!-- End Latest -->
                        <!-- Link List -->
                        <div class="col-md-3 md-margin-bottom-40">
                            <div class="headline">
                                <h2>Useful Links</h2>
                            </div>
                            <ul class="list-unstyled link-list">
                                <li><a href="../../Blog.html">Blog</a><i class="fa fa-angle-right"></i></li>
                                <li><a href="../../Training.html">Training</a><i class="fa fa-angle-right"></i></li>
                                <li><a href="../../Mapper.html">Glass.Mapper.Sc</a><i class="fa fa-angle-right"></i></li>
                                <li><a href="../../Support.html">Support</a><i class="fa fa-angle-right"></i></li>
                            </ul>
                        </div><!--/col-md-3-->
                        <!-- End Link List -->
                        <!-- Address -->
                        <div class="col-md-3 map-img md-margin-bottom-40">
                            <div class="headline">
                                <h2>Contact Us</h2>
                            </div>
                            <address class="md-margin-bottom-40">
                                Twitter: <a class="element brand" href="http://twitter.com/@glasslu" target="_blank">@glasslu</a><br>
                                Email: <a class="element brand" href="mailto:hello@glass.lu">hello@glass.lu</a> <br />
                                M C Edwards Ltd trading as Glass<br />
                                Company No.:08641300 <br />
                            </address>
                        </div><!--/col-md-3-->
                        <!-- End Address -->
                    </div>
                </div>

            </div><!--/footer-->
        </div>
        <!-- 1/10/2019 8:47:53 AM -->
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '../www.google-analytics.com/analytics.html', 'ga');

            ga('create', 'UA-55731850-1', 'auto');
            ga('send', 'pageview');

        </script>


        <div class="footer-v1">

            <div class="copyright">
                <div class="container">
                    <div class="row">
                        <div class="col-md-3">
                            <p>
                                2019 &copy; All Rights Reserved.
                            </p>
                        </div>
                        <div class="col-md-9">

                            <p>
                                <a href="../../-/media/Files/Privacy_Policy_and_Cookie_Policy_Europe.pdf">Privacy Policy</a> | <a href="../../-/media/Files/Website_TCs_Template.pdf">Terms and Conditions</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div><!--/copyright-->
        </div>

        <div class="hidden" id="perfResults">
            <li class="topbar-devider"></li>
            <li>
                <i class="fa fa-clock-o" title="Page Render Time"></i> 30
            </li>
            <li>
                <img src="content/icon-bbbbbb-16.html" title="Glass Time" style="width: 8px;"> 3
            </li>
            <li>
                <i class="fa fa-pencil-square-o" title="Glass items requested"></i> 13
            </li>
            <li>
                <i class="fa fa-cloud" title="Glass items from cache"></i> 10
            </li>
        </div>
        <script>
            (function ($) {

                $(function () {
                    var results = $("#perfResults");
                    var placeholder = $("#resultsReplaces");

                    var html = results.html();
                    placeholder.replaceWith(html);
                });
            })(jQuery);
        </script>




    </div>
</body>


<!-- Mirrored from glass.lu/blog/archive/How to find the currently executing sublayout in Sitecore by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 24 May 2021 11:26:10 GMT -->
</html>



<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<!-- Mirrored from www.glass.lu/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 10 Jan 2019 10:13:45 GMT -->
<!-- Added by HTTrack -->

<!-- Mirrored from glass.lu/mapper/documentation/Upgrade-ToV4 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 24 May 2021 11:26:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



    <link rel="stylesheet" href="../../content/plugins/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../content/css/style.css">
    <link rel="stylesheet" href="../../content/plugins/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../content/css/theme-colors/default.css">
    <link rel="stylesheet" href="../../content/plugins/sky-forms/version-2.0.1/css/custom-sky-forms.css">

    <link rel="stylesheet" href="../../content/plugins/parallax-slider/css/parallax-slider.css">

    <link rel="stylesheet" href="../../content/Site-Lessae52ae52.css?v=5" />
    <link rel="stylesheet" href="../../content/site.css">

    <title>Documentation - Glass</title>

    <link rel="shortcut icon" href="../../-/media/Images/Common/Horizon-Bordered-BlazeOrange-250.png">
    <!-- JS Global Compulsory -->
    <script type="text/javascript" src="../../content/plugins/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="../../content/plugins/jquery/jquery-migrate.min.js"></script>
    <script type="text/javascript" src="../../content/plugins/bootstrap/js/bootstrap.min.js"></script>

    <script src="../../content/Site.js"></script>
    <script src="//google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
    <script type="text/javascript" src="../../content/plugins/parallax-slider/js/modernizr.js"></script>
    <script type="text/javascript" src="../../content/plugins/parallax-slider/js/jquery.cslider.js"></script>


</head>


<body class="metro  mvc ">

    <div class="wrapper">

        <div class="header header-sticky header-fixed-shrink">
            <div class="topbar">
            </div>

            <!-- Navbar -->
            <div class="navbar navbar-default mega-menu" role="navigation">
                <div class="container">
                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="fa fa-bars"></span>
                        </button>
                        <a class="navbar-brand" href="../../index.html">

                            <img src="../../-/media/Images/Common/Horizon-Bordered-BlazeOrange-2503ca73ca7.png?h=50&amp;w=50&amp;la=en&amp;hash=C5F3C6D5FCB00EBE826D80BE26742A4D078D12D4" id="logo-header" alt="" />
                            <span style="vertical-align: middle;">Glass</span>

                        </a>
                    </div>

                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse navbar-responsive-collapse">
                        <ul class="nav navbar-nav">

                            <li class="">

                                <a href="../../Support.html">Support</a>
                            </li>
                            <li class="">

                                <a href="../../Training.html">Training</a>
                            </li>
                            <li class="">

                                <a href="../../Blog.html">Blog</a>
                            </li>
                            <li class="">

                                <a href="../../Mapper.html">Glass.Mapper.Sc</a>
                            </li>
                            <li class="">

                                <a href="../../Rockstars.html">Our Backers</a>
                            </li>
                            <li class="">

                                <a href="../../About.html">About</a>
                            </li>
                        </ul>
                    </div><!--/navbar-collapse-->
                </div>
            </div>
            <!-- End Navbar -->
        </div>

            <div class="breadcrumbs">
                <div class="container">
                    <h1 class="pull-left">

                        Documentation

                    </h1>

                </div><!--/container-->
            </div>

        


<div class="container content">
    <div class="row">
        <div class="col-md-3">


    <ul class="list-group sidebar-nav-v1" id="sidebar-nav">
        <li class="list-group-item list-toggle active">

            <a href="../../Mapper.html" class="collapsed">
                <i class="fa "></i>
                Glass.Mapper.Sc
            </a>
            <ul id="collapse-typography" class="sub-pages">
                <li>
                    <a href="../GettingStarted.html">
                        <i class="fa fa-chevron-circle-right"></i>
                        Getting Started

                    </a>
                </li>
                <li>
                    <a href="../../Training.html">
                        <i class="fa fa-chevron-circle-right"></i>
                        Training
                    </a>
                </li>
                <li>
                    <a href="../CompatibilityChart.html">
                        <i class="fa fa-chevron-circle-right"></i>
                        Download
                    </a>
                </li>
                <li>
                    <a href="../Contributing.html">
                        <i class="fa fa-chevron-circle-right"></i>
                        Contributing
                    </a>
                </li>
                <li>
                    <a href="../Community.html">
                        <i class="fa fa-chevron-circle-right"></i>
                        Community
                    </a>
                </li>
                <li>
                    <a href="../CompatibilityChart.html">
                        <i class="fa fa-chevron-circle-right"></i>
                        Compatibility Chart
                    </a>
                </li>
                <li>
                    <a href="../Releases.html">
                        <i class="fa fa-chevron-circle-right"></i>
                        Releases
                    </a>
                </li>
                <li>
                    <a href="../Documentation.html">
                        <i class="fa fa-chevron-circle-right"></i>
                        Documentation
                    </a>
                </li>
            </ul>
        </li>
    </ul>

    <div class="thumbnails thumbnail-style ">

        <img src="../../-/media/Images/Tiles/RDNS_Logo_WithText.png" style="width: 100%" class="img-responsive">

        <div class="caption">
            <hr style="margin: 5px 10px;">


            <h4>
                Glass.Mapper is supported by Refract DNS.
            </h4>
            <p>

            </p>
            <p>
                <a class="btn-u btn-u-sm" href="http://bit.ly/2RGdyRj">Find out more &gt; &gt;</a>
            </p>

        </div>
    </div>
</div>
        


<div class="col-md-9">
    <div class="row documentation">
        <h1 id="upgrading-to-v4">Upgrading To V4</h1>
<p>This page will guide you through the process of upgrading your solution from  V3 to V4 of Glass.Mapper.Sc. The instructions are broken down into
two sections, the first covers upgrading a Web Project that contains the Windsor Project, config files and startup classes. The second is a class
library that is used by a Web Project.</p>
<p>With the upgrade notes we have made assumptions about how each project is setup, if your project is setup in a non-standard way then these steps
may not work.</p>
<h2 id="upgrading-a-web-project">Upgrading a Web Project</h2>
<p>These steps are designed to demonstrate how to upgrade a web project to Glass.Mapper.Sc V4. The web project is
the project that contains the Web.config, includes and other files that are physically deployed to the website root of your live solution.</p>
<ol>
<li><p>Open the Nuget Package Manager and remove the existing Glass.Mapper packages:</p>
<ul>
<li>Glass.Mapper.Sc.Mvc-x</li>
<li>Glass.Mapper.Sc.CastleWindsor</li>
<li>Glass.Mapper.Sc</li>
<li>Glass.Mapper</li>
</ul>
</li>
<li><p>If you have modified any of the project files that w	ere installed by Glass these won't be removed. This is expected, leave these for now.</p>
</li>
<li><p>In the Nuget Package Manager search for Glass.Mapper.Sc and install version 4.
Glass.Mapper.SC V4 Nuget Package
<img src="../../Images/Docs/V4Upgrade-Nuget5701.png" alt="" /></p>
</li>
<li><p>As the Nuget package installs you maybe prompted to overwrite the following files, is you are select no:</p>
<ul>
<li>GlassMapperSc.cs</li>
<li>GlassMapperScCustom.cs</li>
<li>Glass.Mapper.Sc.Start.config</li>
</ul>
</li>
<li><p>Delete the following files:</p>
<ul>
<li>/App_Config/Include/Glass.Mapper.Sc.CastleWindsor.config</li>
<li>/App_Config/Include/Glass.Mapper.Sc.Mvc.config</li>
</ul>
</li>
<li><p>Next you need to compare each of the files list in step 4 and merge your changes with the new changes in V4. For most solutions you should only need to do GlassMapperScCustom.cs which we will talk about here.</p>
<ol>
<li><p>The CastleConfig method has been removed and merged with the CreateResolver method:</p>
<pre><code>  	public static IDependencyResolver CreateResolver()
</code></pre>
<p>Copy and paste the method from the GitHub source into your class. You will need to remove the existing CreateResolver method. If you were using the out of the box Castle.Windsor resolver for Glass you can just delete the method. If you were using your own Dependency Resolver you will need to implement your own custom factories for the new resolver (more about this later).</p>
</li>
<li><p>You now need to start moving any changes in the CastleConfig method to the CreateResolver method. Start by moving configuration settings. This should be very straight forward.</p>
</li>
<li><p>Next comes any custom task or data mapper registrations, for example a data mapper in V3 would have been registered as follows:</p>
<pre><code> 	container.Register(
 		Component.For&lt;AbstractDataMapper&gt;().ImplementedBy&lt;MyFieldMapper&gt;().LifestyleCustom&lt;NoTrackLifestyleManager&gt;(),
 	);
</code></pre>
<p>This now becomes:</p>
<pre><code> 		var resolver = new DependencyResolver(config);

 		resolver.DataMapperFactory.Insert(0,() = &gt; new MyFieldMapper());

 		return resolver;
</code></pre>
<p>Make sure that you add the mapping between the instantiation of the DependencyResovler and before the return. If you have tasks for the different pipelines you should also add these tasks to the appropriate pipeline factory.</p>
</li>
<li><p>Remove the namespaces Castle.Windsor and Glass.Mapper.Sc.CastleWindsor from the top of the file.</p>
</li>
<li><p>Finally copy and paste the AddMaps method into GlassMapperScCustom.</p>
</li>
</ol>
</li>
<li><p>You should now be ready to build and deploy your Sitecore solution. When you deploy your solution remember to delete the files detailed in step 5 and also remove the assemblies:</p>
<ul>
<li>Castle.Windsor</li>
<li>Glass.Mapper.Sc.CastleWindsor</li>
</ul>
</li>
</ol>
<h2 id="upgrading-a-class-library">Upgrading a Class Library</h2>
<ol>
<li>Open the Nuget Package Manager and remove the existing Glass.Mapper packages:
<ul>
<li>Glass.Mapper.Sc.Mvc-x</li>
<li>Glass.Mapper.Sc.CastleWindsor</li>
<li>Glass.Mapper.Sc</li>
<li>Glass.Mapper</li>
</ul>
</li>
<li>In the Nuget Package Manager search for Glass.Mapper.Sc and install version 4.</li>
<li>Delete the folders App_Config and App_Start
<img src="../../Images/Docs/V4Upgrade-Nuget5701.png" alt="" /></li>
</ol>
<h2 id="keeping-castle-windsor">Keeping Castle Windsor</h2>
<p>The Glass Castle Windsor assemblies have now been remove from the Glass code base and no new nuget packages will be created. We recommend that you remove the Glass.Mapper.Sc.CastleWindsor assemblies and use the internal Glass DI solution.</p>

    </div>

    <div class="row">
        <div class="row">
    <div class="devider devider-dashed margin-top-30 margin-bottom-30"></div>

    <div class="col-md-8">

        <div class="headline">
            <h3 class="">Become a Glass Mapper Expert</h3>
        </div>

        <p>
            The easiest way to become a Glass.Mapper.Sc <strong>EXPERT</strong> is by taking the V5 Training course!

        </p>
        <p>
            The training course contains 64+ lectures which take you from the basics of Glass.Mapper.Sc to advanced features like template enforcement, 
            type inferring and more.
        </p>

        <p class="text-center">
            <a href="../../Training.html" class="btn-u btn-u-lg" style="margin: 10px;">
                <em class=" fa fa-star icon-bg-darker"></em>
                Signup Up Today!
            </a>
        </p>

    </div>
    <div class="col-md-4 text-center">
        <img src="../../Images/V5Certified.png" style="max-height:200px"/>
    </div>
</div>

    </div>

</div>

    </div>
</div>

        <div class="footer-v1">
            <div class="footer">
                <div class="container">
                    <div class="row">
                        <!-- About -->
                        <div class="col-md-3 md-margin-bottom-40">
                            <div class="row text-center margin-bottom-10 margin-top-20">
                                <a href="../../index.html" class="">
                                    <img src="../../-/media/Images/Common/Horizon-Bordered-BlazeOrange-2503ca73ca7.png?h=50&amp;w=50&amp;la=en&amp;hash=C5F3C6D5FCB00EBE826D80BE26742A4D078D12D4" id="logo-header" alt="" />
                                </a>
                            </div>

                            <p>Glass is home to the #1 ORM for Sitecore. Glass.Mapper is the easiest way to map data from your Sitecore solution to your code.</p>
                        </div><!--/col-md-3-->
                        <!-- End About -->
                        <!-- Latest -->
                        <div class="col-md-3 md-margin-bottom-40">
                            <div class="headline">
                                <h2>Sponsored by</h2>
                            </div>
                            <a href="https://refractdns.com/">
                                <img src="../../-/media/Images/Tiles/RDNS_Logo_WithTextWhite.png" style="width: 100%" class="img-responsive">
                            </a>
                        </div><!--/col-md-3-->
                        <!-- End Latest -->
                        <!-- Link List -->
                        <div class="col-md-3 md-margin-bottom-40">
                            <div class="headline">
                                <h2>Useful Links</h2>
                            </div>
                            <ul class="list-unstyled link-list">
                                <li><a href="../../Blog.html">Blog</a><i class="fa fa-angle-right"></i></li>
                                <li><a href="../../Training.html">Training</a><i class="fa fa-angle-right"></i></li>
                                <li><a href="../../Mapper.html">Glass.Mapper.Sc</a><i class="fa fa-angle-right"></i></li>
                                <li><a href="../../Support.html">Support</a><i class="fa fa-angle-right"></i></li>
                            </ul>
                        </div><!--/col-md-3-->
                        <!-- End Link List -->
                        <!-- Address -->
                        <div class="col-md-3 map-img md-margin-bottom-40">
                            <div class="headline">
                                <h2>Contact Us</h2>
                            </div>
                            <address class="md-margin-bottom-40">
                                Twitter: <a class="element brand" href="http://twitter.com/@glasslu" target="_blank">@glasslu</a><br>
                                Email: <a class="element brand" href="mailto:hello@glass.lu">hello@glass.lu</a> <br />
                                M C Edwards Ltd trading as Glass<br />
                                Company No.:08641300 <br />
                            </address>
                        </div><!--/col-md-3-->
                        <!-- End Address -->
                    </div>
                </div>

            </div><!--/footer-->
        </div>
        <!-- 1/10/2019 8:47:53 AM -->
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-55731850-1', 'auto');
            ga('send', 'pageview');

        </script>


        <div class="footer-v1">

            <div class="copyright">
                <div class="container">
                    <div class="row">
                        <div class="col-md-3">
                            <p>
                                2019 &copy; All Rights Reserved.
                            </p>
                        </div>
                        <div class="col-md-9">

                            <p>
                                <a href="../../-/media/Files/Privacy_Policy_and_Cookie_Policy_Europe.pdf">Privacy Policy</a> | <a href="../../-/media/Files/Website_TCs_Template.pdf">Terms and Conditions</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div><!--/copyright-->
        </div>

        <div class="hidden" id="perfResults">
            <li class="topbar-devider"></li>
            <li>
                <i class="fa fa-clock-o" title="Page Render Time"></i> 30
            </li>
            <li>
                <img src="content/icon-bbbbbb-16.html" title="Glass Time" style="width: 8px;"> 3
            </li>
            <li>
                <i class="fa fa-pencil-square-o" title="Glass items requested"></i> 13
            </li>
            <li>
                <i class="fa fa-cloud" title="Glass items from cache"></i> 10
            </li>
        </div>
        <script>
            (function ($) {

                $(function () {
                    var results = $("#perfResults");
                    var placeholder = $("#resultsReplaces");

                    var html = results.html();
                    placeholder.replaceWith(html);
                });
            })(jQuery);
        </script>




    </div>
</body>


<!-- Mirrored from glass.lu/mapper/documentation/Upgrade-ToV4 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 24 May 2021 11:26:15 GMT -->
</html>